<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <script>
        const validUsername = "Ydrian";
        const validPassword = "password";
        let attempts = 3; // total attempts allowed

        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            if (username === validUsername && password === validPassword) {
                loginForm.style.opacity = "0";
                loginForm.style.visibility = "hidden";
                showAccessGranted();
            } else {
                attempts--;
                if (attempts > 0) {
                    startSelfDestruct();
                } else {
                    lockOutUser();
                }
            }
        }
        function showAccessGranted() {
            const msg = document.getElementById("accessGranted");
            msg.style.display = "block";
            setTimeout(() => {
                window.location.href = "main.html"; // Redirect after 2s
            }, 2000);
        }
        function startSelfDestruct() {
            const sdMsg = document.getElementById("selfDestruct");
            const countdown = document.getElementById("countdown");
            let timeLeft = 30;

            sdMsg.style.display = "block";
            sdMsg.classList.remove("minimized"); // reset if used before
            countdown.innerText = timeLeft;

            // Start countdown
            const timer = setInterval(() => {
                timeLeft--;
                countdown.innerText = timeLeft;

                // At 5 seconds in, minimize to bottom-left
                if (timeLeft === 25) {
                    sdMsg.classList.add("minimized");
                }

                if (timeLeft <= 0) {
                    clearInterval(timer);
                    sdMsg.style.display = "none"; 
                    alert(`System stabilized. You have ${attempts} attempt(s) left.`);
                }
            }, 1000);
        }
        function lockOutUser() {
            document.body.innerHTML = `
                <div style="color:red; font-size:2rem; text-align:center; margin-top:20%;">
                    ðŸš« ACCESS DENIED ðŸš« <br><br>
                    Too many failed attempts. <br>
                    System permanently locked.
                </div>`;
        }
</script>
</head>
<body>
    <div class="login-container" id="loginForm">
        <h2>Login</h2>
        <form onsubmit="handleLogin(event)">
            <label for="username">Username:</label><br>
            <input type="text" id="username" name="username" required><br><br>
            <label for="password">Password:</label><br>
            <input type="password" id="password" name="password" required><br><br>
            <button type="submit">Login</button>
        </form>
    </div>
    <div id="accessGranted" class="access-granted">
        ACCESS GRANTED
    </div>
    <div id="selfDestruct" class="self-destruct">
        Initializing self-destruct sequence...<br>
        <span id="countdown">30</span> seconds remaining
    </div>
</body>

</html>





